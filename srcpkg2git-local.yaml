#app-id: io.gitlab.evlaV.srcpkg2git
id: io.gitlab.evlaV.srcpkg2git
branch: '0.1'
#default-branch: '0.1'
#runtime: org.freedesktop.Platform
runtime: org.freedesktop.Sdk
##runtime-version: '21.08'
##runtime-version: '22.08'
#runtime-version: '23.08'
runtime-version: '24.08'
sdk: org.freedesktop.Sdk
command: srcpkg2git
modules:
# rename-appdata-file (toplevel) property not required
#  - name: io.gitlab.evlaV.srcpkg2git.metainfo.xml
#    buildsystem: simple
#    build-commands:
#      - install -Dm644 srcpkg2git.appdata.xml /app/share/metainfo/io.gitlab.evlaV.srcpkg2git.metainfo.xml
#    sources:
#      - type: file
#        path: appstream/srcpkg2git/srcpkg2git.appdata.xml
# rename-appdata-file (toplevel) property required
  - name: srcpkg2git.appdata.xml
    buildsystem: simple
    build-commands:
      - install -Dm644 srcpkg2git.appdata.xml /app/share/metainfo/srcpkg2git.appdata.xml
    sources:
      - type: file
        path: appstream/srcpkg2git/srcpkg2git.appdata.xml
# rename-icon and copy-icon (toplevel) properties not required
#  - name: io.gitlab.evlaV.srcpkg2git.png
#    buildsystem: simple
#    build-commands:
#      - install -Dm644 srcpkg2git-logo.png /app/share/icons/hicolor/512x512/apps/srcpkg2git.png
#      - install -Dm644 srcpkg2git-logo.png /app/share/icons/hicolor/512x512/apps/io.gitlab.evlaV.srcpkg2git.png
#    sources:
#      - type: file
#        path: images/srcpkg2git-logo.png
# rename-icon and copy-icon (toplevel) properties required
  - name: srcpkg2git.png
    buildsystem: simple
    build-commands:
      - install -Dm644 srcpkg2git-logo.png /app/share/icons/hicolor/512x512/apps/srcpkg2git.png
    sources:
      - type: file
        path: images/srcpkg2git-logo.png
  - name: srcpkg2git.desktop
    buildsystem: simple
    build-commands:
#      - sed -i 's|Exec=srcpkg2git|Exec=/app/bin/srcpkg2git|' srcpkg2git.desktop
      - install -Dm644 srcpkg2git.desktop /app/share/applications/srcpkg2git.desktop
    sources:
      - type: file
        path: xdg/srcpkg2git/srcpkg2git.desktop
#  - name: git-remote.conf.template
#    buildsystem: simple
#    build-commands:
#      - install -Dm644 git-remote.conf.template /app/etc/git-remote.conf
#    sources:
#      - type: file
#        path: git-remote.conf.template
  - name: git-remote.conf
    buildsystem: simple
    build-commands:
      - install -Dm644 git-remote.conf /app/etc/git-remote.conf
    sources:
      - type: file
        path: git-remote.conf
  - name: git-commit
    buildsystem: simple
    build-commands:
      - install -Dm755 git-commit.sh /app/bin/git-commit
    sources:
      - type: file
        path: git-commit.sh
#  - name: git-credential-shelper
#    buildsystem: simple
#    build-commands:
#      - install -Dm755 git-credential-shelper.sh /app/bin/git-credential-shelper
#    sources:
#      - type: file
#        path: git-credential-shelper.sh
  - name: git-credential-bashelper
    buildsystem: simple
    build-commands:
      - install -Dm755 git-credential-bashelper.sh /app/bin/git-credential-bashelper
    sources:
      - type: file
        path: git-credential-bashelper.sh
  - name: git-remote
    buildsystem: simple
    build-commands:
      - install -Dm755 git-remote.sh /app/bin/git-remote
    sources:
      - type: file
        path: git-remote.sh
  - name: srcpkg2git
    buildsystem: simple
    build-commands:
      - install -Dm755 srcpkg2git.sh /app/bin/srcpkg2git
    sources:
      - type: file
        path: srcpkg2git.sh
rename-desktop-file: srcpkg2git.desktop
rename-appdata-file: srcpkg2git.appdata.xml
rename-icon: srcpkg2git
copy-icon: true
